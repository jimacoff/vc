import Raven from 'raven-js';
import UserContext from './user_context';

import LogRocket from 'logrocket';
require('logrocket-react')(LogRocket);

<% if ENV['LOGROCKET_KEY'].present? %>
  LogRocket.init('<%= ENV['LOGROCKET_KEY'] %>');
<% end %>

Raven.setDataCallback(data => {
  data.extra.sessionURL = LogRocket.sessionURL;
  return data;
});

LogRocket.identify(UserContext.id, UserContext);